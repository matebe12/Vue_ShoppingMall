(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5b91eed0"],{"32ae":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("div",{staticClass:"card"},[r("i",{staticClass:"fas fa-times closeModalBtn",staticStyle:{float:"right"},on:{click:function(e){return t.$router.go(-1)}}}),r("div",{staticClass:"container-fliud"},[r("div",{staticClass:"wrapper row"},[r("div",{staticClass:"preview col-md-6"},[r("div",{staticClass:"preview-pic tab-content"},[t.showImg?r("div",{staticClass:"tab-pane active",attrs:{id:"pic-1"}},[r("img",{attrs:{src:""+t.getUrl+t.item.GDS_IMG}})]):t._e()])]),r("div",{staticClass:"details col-md-6"},[r("h3",{staticClass:"product-title"},[t._v(t._s(t.item.GDS_NAME))]),r("div",{staticClass:"rating"},[r("span",{staticClass:"review-no"},[t._v(t._s(this.replyCount)+"개의 댓글이 있습니다.")])]),r("div",{staticClass:"product-description",domProps:{innerHTML:t._s(t.item.GDS_DESC)}}),r("h4",{staticClass:"price"},[t._v(" 가격: "),r("span",[t._v(t._s(t.item.GDS_PRICE)+"원")])]),r("h4",{staticClass:"stock"},[t._v(" 재고: "),r("span",[t._v(t._s(t.item.GDS_STOCK)+"개")])]),r("div",{staticClass:"col-xs-4 buy_stock_scope"},[r("i",{staticClass:"fas fa-minus fa-2x",on:{click:t.minusStock}}),r("input",{directives:[{name:"model",rawName:"v-model",value:t.buy_stock,expression:"buy_stock"}],staticClass:"form-control buy_stock",attrs:{type:"text",name:"GDS_STOCK_BUY",id:"GDS_STOCK_BUY",placeholder:"구입 수량",value:"0"},domProps:{value:t.buy_stock},on:{keyup:function(e){return t.validation()},input:function(e){e.target.composing||(t.buy_stock=e.target.value)}}}),r("i",{staticClass:"fas fa-plus fa-2x",on:{click:t.plusStock}})]),r("div",{staticClass:"action"},[r("button",{staticClass:"add-to-cart btn btn-default",attrs:{type:"button"},on:{click:function(e){return t.addGoodsCart(1)}}},[t._v(" 장바구니에 담기 ")]),r("button",{staticClass:"add-to-cart btn btn-default",staticStyle:{"margin-left":"10px"},attrs:{type:"button"},on:{click:function(e){return t.addGoodsCart(2)}}},[t._v(" 구매하기 ")])])])])])]),r("Reply",{attrs:{item:t.item},on:{replyCount:t.setReplyCount}})],1)},n=[],s=(r("99af"),r("ac1f"),r("5319"),r("96cf"),r("1da1")),i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"panel panel-white post panel-shadow"},[r("div",{staticClass:"post-footer"},[r("div",{staticClass:"input-group"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.REPLY_CONTENT,expression:"REPLY_CONTENT"}],staticClass:"form-control",attrs:{placeholder:"Add a comment",type:"text"},domProps:{value:t.REPLY_CONTENT},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.insertReply(e)},input:function(e){e.target.composing||(t.REPLY_CONTENT=e.target.value)}}}),r("span",{staticClass:"input-group-addon"},[r("a",{attrs:{href:"javascript:void(0);"},on:{click:t.insertReply}},[r("i",{staticClass:"fa fa-edit"})])])]),r("ul",{staticClass:"comments-list"},t._l(t.reply,(function(e,a){return r("li",{key:a,staticClass:"comment",style:t.getStyle(e.REPLY_DEPTH)},[r("a",{staticClass:"pull-left",attrs:{href:"#"}},[r("img",{staticClass:"avatar",attrs:{src:t.getUrl(e.USER_THUMBNAIL,e.ISSNS),alt:"avatar"}})]),r("div",{staticClass:"comment-body"},[r("div",{staticClass:"comment-heading"},[r("h4",{staticClass:"user"},[t._v(t._s(e.USER_ID))]),t.compareUser(e.USER_ID)&&0==e.IS_DELETE?r("a",{attrs:{href:"javascript:void(0);"}},[r("h5",{staticClass:"time"},[r("i",{staticClass:"fas fa-edit fa-1x",on:{click:function(r){return t.showUpdateForm(e.REPLY_NUM)}}}),t._v("수정 ")])]):t._e(),t.compareUser(e.USER_ID)&&0==e.IS_DELETE?r("a",{attrs:{href:"javascript:void(0);"},on:{click:function(r){return t.deleteReply(e.REPLY_NUM)}}},[t._m(0,!0)]):t._e(),0==e.REPLY_DEPTH?r("a",{attrs:{href:"javascript:void(0);"},on:{click:function(r){return t.showRelpyForm(e)}}},[t._m(1,!0)]):t._e()]),r("p",{attrs:{id:"reply_"+e.REPLY_NUM}},[t._v(t._s(e.REPLY_CONTENT))]),r("div",{staticStyle:{display:"none"},attrs:{id:"reply_content"+e.REPLY_NUM}},[r("input",{attrs:{type:"text",id:"reply_input"+e.REPLY_NUM},domProps:{value:e.REPLY_CONTENT}}),r("button",{staticClass:"btn btn-warning",on:{click:function(r){return t.updateReply(e.REPLY_NUM)}}},[t._v(" 수정 ")])]),r("div",{staticStyle:{display:"none"},attrs:{id:"re_reply_content"+e.REPLY_NUM}},[r("input",{attrs:{type:"text",id:"re_reply_input"+e.REPLY_NUM},on:{keyup:function(r){return!r.type.indexOf("key")&&t._k(r.keyCode,"enter",13,r.key,"Enter")?null:t.insertReply(e)}}}),r("button",{staticClass:"btn btn-warning",on:{click:function(r){return t.insertReply(e)}}},[t._v(" 작성 ")])])])])})),0)])])},c=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("h2",{staticClass:"time"},[r("i",{staticClass:"fas fa-trash fa-1x"}),t._v("삭제")])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("h5",{staticClass:"time"},[r("i",{staticClass:"fas fa-edit fa-1x"}),r("span",[t._v(" 답글 ")])])}],u=r("365c");function o(t){return u["c"].post("insertReply",t)}function l(t){return u["c"].post("getReplyAll",t)}function p(t){return u["c"].post("updateReply",t)}function _(t){return u["c"].post("deleteReply",t)}var d=r("5528"),f={props:["item"],data:function(){return{REPLY_CONTENT:"",reply:[]}},mounted:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.viewReply();case 2:t.$emit("replyCount",t.reply.length);case 3:case"end":return e.stop()}}),e)})))()},methods:{showRelpyForm:function(t){var e=document.getElementById("re_reply_content"+t.REPLY_NUM);"none"==e.style.display?e.style.display="block":e.style.display="none"},getStyle:function(t){var e={"margin-left":5*t+"%"};return e},getUrl:function(t,e){return d["a"].isNull(t)?d["a"].isNull(e)?t:this.$store.state.url+t:"http://bootdey.com/img/Content/user_1.jpg"},insertReply:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(d["a"].isNull(t.REPLY_NUM)){r.next=12;break}if(""!=e.$store.state.user.USER_ID){r.next=4;break}return alert("로그인을 해주세요"),r.abrupt("return");case 4:if(""!=e.REPLY_CONTENT){r.next=7;break}return alert("댓글을 입력해주세요"),r.abrupt("return");case 7:if(d["a"].isLength(e.REPLY_CONTENT,200)){r.next=10;break}return alert("댓글은 200자 내로 입력해주세요."),r.abrupt("return");case 10:r.next=22;break;case 12:if(a=document.getElementById("re_reply_input"+t.REPLY_NUM).value,""!=e.$store.state.user.USER_ID){r.next=16;break}return alert("로그인을 해주세요"),r.abrupt("return");case 16:if(""!=a){r.next=19;break}return alert("댓글을 입력해주세요"),r.abrupt("return");case 19:if(d["a"].isLength(a,200)){r.next=22;break}return alert("댓글은 200자 내로 입력해주세요."),r.abrupt("return");case 22:return r.prev=22,n=d["a"].isNull(t.REPLY_NUM)?{REPLY_CONTENT:document.getElementById("re_reply_input"+t.REPLY_NUM).value,GDS_NUM:e.item.GDS_NUM,USER_ID:e.$store.state.user.USER_ID,REPLY_DEPTH:t.REPLY_DEPTH+1,REPLY_GROUP:t.REPLY_GROUP,REPLY_PARENT:t.REPLY_NUM}:{REPLY_CONTENT:e.REPLY_CONTENT,GDS_NUM:e.item.GDS_NUM,USER_ID:e.$store.state.user.USER_ID,REPLY_DEPTH:0,REPLY_PARENT:0,REPLY_GROUP:null},r.next=26,o(n);case 26:d["a"].isNull(t.REPLY_NUM)&&e.showRelpyForm(t),e.viewReply(),r.next=33;break;case 30:r.prev=30,r.t0=r["catch"](22),alert(r.t0);case 33:case"end":return r.stop()}}),r,null,[[22,30]])})))()},compareUser:function(t){return this.$store.state.user.USER_ID==t},updateReply:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(r.prev=0,a=document.getElementById("reply_input"+t).value,""!=e.$store.state.user.USER_ID){r.next=5;break}return alert("로그인을 해주세요"),r.abrupt("return");case 5:if(""!=a){r.next=8;break}return alert("댓글을 입력해주세요"),r.abrupt("return");case 8:if(d["a"].isLength(a,200)){r.next=11;break}return alert("댓글은 200자 내로 입력해주세요."),r.abrupt("return");case 11:return n={REPLY_NUM:t,REPLY_CONTENT:a},r.next=14,p(n);case 14:e.showUpdateForm(t),e.viewReply(),r.next=21;break;case 18:r.prev=18,r.t0=r["catch"](0),alert(r.t0);case 21:case"end":return r.stop()}}),r,null,[[0,18]])})))()},showUpdateForm:function(t){var e=document.getElementById("reply_content"+t);"none"==e.style.display?e.style.display="block":e.style.display="none"},viewReply:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,r={GDS_NUM:t.$route.params.gds_num},e.next=4,l(r);case 4:a=e.sent,t.reply=a.data,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),alert(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},deleteReply:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(r.prev=0,a=confirm("댓글을 삭제 하시겠습니까?"),!a){r.next=7;break}return n={REPLY_NUM:t},r.next=6,_(n);case 6:e.viewReply();case 7:r.next=12;break;case 9:r.prev=9,r.t0=r["catch"](0),alert(r.t0);case 12:case"end":return r.stop()}}),r,null,[[0,9]])})))()}}},m=f,v=(r("773d"),r("2877")),y=Object(v["a"])(m,i,c,!1,null,"002ef254",null),R=y.exports,E=r("71fc"),b=r("a15b"),h={data:function(){return{item:"",buy_stock:0,replyCount:0,showImg:!1}},mounted:function(){this.showImg=!0},computed:{getUrl:function(){return this.$store.state.url}},created:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(b["f"])(t.$route.params.gds_num);case 2:r=e.sent,t.item=r.data[0];case 4:case"end":return e.stop()}}),e)})))()},components:{Reply:R},methods:{addGoodsCart:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(""!=e.$store.state.user.USER_ID){r.next=3;break}return alert("로그인을 해주세요. "),r.abrupt("return");case 3:if(!(e.buy_stock<1)){r.next=6;break}return alert("수량을 확인해주세요."),r.abrupt("return");case 6:return r.prev=6,a={USER_ID:e.$store.state.user.USER_ID,GDS_NUM:e.item.GDS_NUM,CART_STOCK:e.buy_stock},r.next=10,Object(E["a"])(a);case 10:return alert("".concat(e.item.GDS_NAME," 상품 ").concat(e.buy_stock,"개가 담겼습니다.")),r.next=13,Object(E["d"])(e.$store.state.user.USER_ID);case 13:n=r.sent,e.$store.state.cart.cart=n.data,2===t&&e.$router.push("/cart/list"),r.next=21;break;case 18:r.prev=18,r.t0=r["catch"](6),alert(r.t0);case 21:case"end":return r.stop()}}),r,null,[[6,18]])})))()},setReplyCount:function(t){this.replyCount=t},validation:function(){this.buy_stock=this.buy_stock.replace(/[^0-9]/g,"")},plusStock:function(){this.item.GDS_STOCK>this.buy_stock?++this.buy_stock:alert("남은 재고가 없습니다. 관리자에게 문의해주세요.")},minusStock:function(){this.buy_stock>0&&--this.buy_stock}}},C=h,k=(r("c2f6"),Object(v["a"])(C,a,n,!1,null,"764289fc",null));e["default"]=k.exports},"5bc9":function(t,e,r){},7292:function(t,e,r){},"773d":function(t,e,r){"use strict";var a=r("7292"),n=r.n(a);n.a},c2f6:function(t,e,r){"use strict";var a=r("5bc9"),n=r.n(a);n.a}}]);
//# sourceMappingURL=chunk-5b91eed0.9c5b8639.js.map