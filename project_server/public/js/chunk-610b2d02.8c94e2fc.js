(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-610b2d02"],{"25ae":function(e,t,n){
/*!*
* @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
* For licensing, see LICENSE.md.
*/
!function(t,n){e.exports=n()}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t){function n(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function r(e,t){e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,e))}}e.exports=function(e,t,a){var o=document.head||document.getElementsByTagName("head")[0],s=document.createElement("script");"function"==typeof t&&(a=t,t={}),t=t||{},a=a||function(){},s.type=t.type||"text/javascript",s.charset=t.charset||"utf8",s.async=!("async"in t)||!!t.async,s.src=e,t.attrs&&function(e,t){for(var n in t)e.setAttribute(n,t[n])}(s,t.attrs),t.text&&(s.text=""+t.text),("onload"in s?n:r)(s,a),s.onload||n(s,a),o.appendChild(s)}},function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r);let o;function s(e){if("CKEDITOR"in window)return Promise.resolve(CKEDITOR);if(e.length<1)throw new TypeError("CKEditor URL must be a non-empty string.");return o||(o=s.scriptLoader(e).then(e=>(o=void 0,e))),o}s.scriptLoader=e=>new Promise((t,n)=>{a()(e,e=>e?n(e):window.CKEDITOR?void t(CKEDITOR):n(new Error("Script loaded from editorUrl doesn't provide CKEDITOR namespace.")))});var i={name:"ckeditor",render(e){return e("div",{},[e(this.tagName)])},props:{value:{type:String,default:""},type:{type:String,default:"classic",validator:e=>["classic","inline"].includes(e)},editorUrl:{type:String,default:"https://cdn.ckeditor.com/4.14.0/standard-all/ckeditor.js"},config:{type:Object,default:()=>{}},tagName:{type:String,default:"textarea"},readOnly:{type:Boolean,default:null}},mounted(){s(this.editorUrl).then(()=>{if(this.$_destroyed)return;const e=this.config||{};null!==this.readOnly&&(e.readOnly=this.readOnly);const t="inline"===this.type?"inline":"replace",n=this.$el.firstElementChild,r=this.instance=CKEDITOR[t](n,e);r.on("instanceReady",()=>{const e=this.value;r.fire("lockSnapshot"),r.setData(e,{callback:()=>{this.$_setUpEditorEvents();const t=r.getData();e!==t?(this.$once("input",()=>{this.$emit("ready",r)}),this.$emit("input",t)):this.$emit("ready",r),r.fire("unlockSnapshot")}})})})},beforeDestroy(){this.instance&&this.instance.destroy(),this.$_destroyed=!0},watch:{value(e){this.instance&&this.instance.getData()!==e&&this.instance.setData(e)},readOnly(e){this.instance&&this.instance.setReadOnly(e)}},methods:{$_setUpEditorEvents(){const e=this.instance;e.on("change",t=>{const n=e.getData();this.value!==n&&this.$emit("input",n,t,e)}),e.on("focus",t=>{this.$emit("focus",t,e)}),e.on("blur",t=>{this.$emit("blur",t,e)})}}};const c={install(e){e.component("ckeditor",i)},component:i};t.default=c}]).default}))},3982:function(e,t,n){"use strict";var r=n("a753"),a=n.n(r);a.a},4505:function(e,t,n){},"6c48":function(e,t,n){"use strict";n.r(t);var r,a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"#container"}},[n("h1",[e._v("상품목록")]),n("h3",[e._v(" 총 "),n("span",{staticClass:"total"},[e._v(e._s(e.totalGoods)+" ")]),e._v("개의 상품이 있습니다. ")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.firstCategory,expression:"firstCategory"}],staticClass:"selectOption",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.firstCategory=t.target.multiple?n:n[0]}}},[n("option",{attrs:{value:""}},[e._v(" 전체 ")]),e._l(e.getCategory.fmenu,(function(t,r){return n("option",{key:r,domProps:{value:t.CATEGORY_CODE}},[e._v(e._s(t.CATEGORY_NAME))])}))],2),n("select",{directives:[{name:"model",rawName:"v-model",value:e.secondCategory,expression:"secondCategory"}],staticClass:"selectOption",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.secondCategory=t.target.multiple?n:n[0]}}},[n("option",{attrs:{value:""}},[e._v(" 전체 ")]),e._l(e.getCategory.smenu,(function(t,r){return n("option",{key:r,attrs:{value:""}},[e._v(e._s(t.CATEGORY_NAME))])}))],2),n("input",{directives:[{name:"model",rawName:"v-model",value:e.goodsname,expression:"goodsname"}],staticClass:"input",attrs:{type:"text",name:"",id:""},domProps:{value:e.goodsname},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchGoods()},input:function(t){t.target.composing||(e.goodsname=t.target.value)}}}),n("button",{on:{click:function(t){return e.searchGoods()}}},[e._v("검색")]),n("div",{staticClass:"table"},e._l(e.goodsList,(function(t,r){return n("div",{key:r,staticClass:"content"},[n("img",{staticClass:"goodsImg",staticStyle:{width:"300px",height:"300px"},attrs:{src:""+e.getUrl+t.GDS_IMG}}),n("div",{staticClass:"info"},[n("div",[n("span",[e._v("상품번호 ")]),n("a",{attrs:{onclick:"javascript:void(0);"},on:{click:function(n){return e.openGoods(t)}}},[e._v(e._s(t.GDS_NUM))])]),n("div",[n("span",[e._v("상품명 ")]),n("a",{attrs:{onclick:"javascript:void(0);"},on:{click:function(n){return e.openGoods(t)}}},[e._v(e._s(t.GDS_NAME))])]),n("div",[n("span",[e._v("카테고리 ")]),e._v(" "+e._s(t.GDS_CATEGORY_NAME)+" ")]),n("div",[n("span",[e._v("등록날짜 ")]),e._v(" "+e._s(t.GDS_DATE)+" ")])])])})),0),e.showModal?n("Modal",{attrs:{item:e.item},on:{closeModal:e.closeModal,refresh:e.refresh}}):e._e(),n("div",{staticClass:"tui-pagination",attrs:{id:"pagination"}})],1)},o=[],s=(n("96cf"),n("1da1")),i=n("a15b"),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"modal"}},[n("div",{staticClass:"modal-mask"},[n("div",{staticClass:"modal-wrapper"},[n("div",{staticClass:"modal-container"},[n("div",{staticClass:"modal-header"},[n("h3",{attrs:{slot:"header"},slot:"header"},[e._v(" 상세정보 "),n("i",{staticClass:"fas fa-times closeModalBtn",staticStyle:{float:"right"},on:{click:e.closeModal}})])]),n("div",{staticClass:"modal-body"},[n("form",{ref:"form",attrs:{method:"post",autocomplete:"off",enctype:"application/x-www-form-urlencoded"}},[n("div",[n("div",{staticClass:"col-xs-3"},[n("label",[e._v("1차 분류")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.selected,expression:"selected"}],staticClass:"category1 form-control",attrs:{id:"firstOption",name:"category1"},on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selected=t.target.multiple?n:n[0]},e.SelectSecond]}},e._l(e.firstCategory,(function(t,r){return n("option",{key:r,domProps:{value:t.CATEGORY_CODE}},[e._v(e._s(t.CATEGORY_NAME))])})),0),n("label",[e._v("2차 분류")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.selected2,expression:"selected2"}],staticClass:"category2 form-control",attrs:{id:"secondOption",name:"category2"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selected2=t.target.multiple?n:n[0]}}},e._l(e.secondCategory,(function(t,r){return n("option",{key:r,domProps:{value:t.CATEGORY_CODE}},[e._v(" "+e._s(t.CATEGORY_NAME)+" ")])})),0)]),n("div",{staticClass:"col-xs-3"},[n("label",{attrs:{for:"GDS_NUM"}},[e._v("GDS_NUM")]),n("input",{staticClass:"form-control",attrs:{type:"text",id:"GDS_NUM",readonly:"",name:"GDS_NUM"},domProps:{value:e.item.GDS_NUM}})]),n("div",{staticClass:"col-xs-3"},[n("label",{attrs:{for:"GDS_NAME"}},[e._v("GDS_NAME")]),n("input",{staticClass:"form-control",attrs:{type:"text",id:"GDS_NAME",name:"GDS_NAME"},domProps:{value:e.item.GDS_NAME}})]),n("div",{staticClass:"col-xs-3"},[n("label",{attrs:{for:"GDS_PRICE"}},[e._v("GDS_PRICE")]),n("input",{staticClass:"form-control",attrs:{type:"text",id:"GDS_PRICE",name:"GDS_PRICE"},domProps:{value:e.parsePrice(e.item.GDS_PRICE)}})]),n("div",{staticClass:"col-xs-3"},[n("label",{attrs:{for:"GDS_STOCK"}},[e._v("GDS_STOCK")]),n("input",{staticClass:"form-control",attrs:{type:"text",id:"GDS_STOCK",name:"GDS_STOCK"},domProps:{value:e.item.GDS_STOCK}})]),n("div",{staticClass:"col-xs-3"},[n("label",{attrs:{for:"GDS_DATE"}},[e._v("GDS_DATE")]),n("input",{staticClass:"form-control",attrs:{type:"text",id:"GDS_DATE",readonly:"",name:"GDS_DATE"},domProps:{value:e.item.GDS_DATE}})]),n("div",{staticClass:"col-xs-3 img_scope"},[n("img",{ref:"image",attrs:{src:""+e.getUrl+e.item.GDS_IMG,width:"130px;",height:"80px;"}}),n("input",{ref:"files2",attrs:{type:"file",name:"sampleFile",id:"file",accept:"image/*"},on:{change:e.previewImg}})]),n("label",{attrs:{for:"GDS_DESC"}},[e._v("GDS_DESC")]),n("ckeditor",{attrs:{value:e.item.GDS_DESC,id:"GDS_DESC",name:"GDS_DESC"},model:{value:e.item.GDS_DESC,callback:function(t){e.$set(e.item,"GDS_DESC",t)},expression:"item.GDS_DESC"}}),n("div",{staticStyle:{"margin-top":"10px"}},[n("span",[n("i",{staticClass:"fas fa-edit fa-2x"},[n("a",{attrs:{href:"javascript:void(0);"},on:{click:e.updateGoods}},[e._v("수정")])])]),n("span",[n("i",{staticClass:"fas fa-trash-alt fa-2x",on:{click:e.deleteGoods}},[e._v("삭제")])])])],1)])])])])])])},l=[],u=(n("4de4"),n("d3b7"),n("ac1f"),n("3ca3"),n("5319"),n("ddb0"),n("2b3d"),n("25ae")),d=n.n(u),p={data:function(){return{selected:"",firstCategory:[],secondCategory:[],selected2:"",imgPath:"img"}},components:{ckeditor:d.a.component},computed:{getUrl:function(){return this.$store.state.url}},props:["item"],mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.firstCategory=e.getCategory().fmenu,e.selected=e.item.CATEGORY_REF,t.next=5,Object(i["c"])(e.item.CATEGORY_REF);case 5:n=t.sent,e.secondCategory=n.data,e.selected2=e.item.GDS_CATEGORY_CODE,t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),alert(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))()},methods:{parsePrice:function(e){var t=parseInt(e.replace(/,/g,""));return t},getCategory:function(){var e=this.$store.state.category.category,t={};return t.fmenu=e.filter((function(e){return 1==e.CATEGORY_LEVEL})),t.smenu=e.filter((function(e){return 2==e.CATEGORY_LEVEL})),t},updateGoods:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,n=e.$refs.form,r=new FormData(n),""===r.get("category2")?r.append("GDS_CATEGORY_CODE",e.selected):r.append("GDS_CATEGORY_CODE",e.selected2),r.append("GDS_DESC",e.item.GDS_DESC),t.next=7,Object(i["g"])(r);case 7:alert("상품 수정완료"),e.closeModal(),e.$emit("refresh"),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),alert(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))()},deleteGoods:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,n=confirm("상품을 삭제 하시겠습니까? "),!n){t.next=9;break}return r={GDS_NUM:e.item.GDS_NUM},t.next=6,Object(i["b"])(r);case 6:alert("상품이 삭제 되었습니다."),e.closeModal(),e.$emit("refresh");case 9:t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),alert(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()},SelectSecond:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,n=document.getElementById("firstOption"),r=n.options[n.selectedIndex].value,t.next=5,Object(i["c"])(r);case 5:a=t.sent,e.secondCategory=a.data,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),alert(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},closeModal:function(){this.$emit("closeModal")},previewImg:function(e){var t=e.target.files[0];this.$refs.image.src=URL.createObjectURL(t)}}},f=p,m=(n("3982"),n("2877")),v=Object(m["a"])(f,c,l,!1,null,"7bfde0b4",null),g=v.exports,h=n("40b9"),_=n("5528"),y={data:function(){return{firstCategory:"",secondCategory:"",goodsList:[],showModal:!1,item:{},selectCategory:"",goodsname:"",totalGoods:0}},computed:{getCategory:function(){for(var e=this.$store.state.category.category,t=[],n=[],r={},a=0;a<e.length;a++)1==e[a].CATEGORY_LEVEL?t.push(e[a]):e[a].CATEGORY_REF==this.firstCategory&&n.push(e[a]);return r.fmenu=t,r.smenu=n,r},getUrl:function(){return this.$store.state.url}},components:{Modal:g},created:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.$route.query,void 0==n.page&&(n.page=1),void 0==n.pageStart&&(n.pageStart=10*(n.page-1)),void 0==n.perPageNum&&(n.perPageNum=10),t.next=6,Object(i["e"])(n);case 6:a=t.sent,e.goodsList=a.data.result,e.totalGoods=a.data.result1[0].TOTAL_COUNT,r.setTotalItems(e.totalGoods),r._paginate(1*n.page);case 11:case"end":return t.stop()}}),t)})))()},mounted:function(){var e=this;r=Object(h["a"])("#pagination",10),r.on("beforeMove",function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t(n);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var t=function(t){e.searchGoods(t)}},methods:{searchGoods:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=_["a"].isNull(e)?e.page*=1:1,t.$router.push({query:{fcode:t.firstCategory,scode:t.secondCategory,page:r,pageStart:10*(r-1),perPageNum:10,gdsName:t.goodsname,t:(new Date).getTime()}});case 2:case"end":return n.stop()}}),n)})))()},openGoods:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.showModal=!0,t.item=e;case 2:case"end":return n.stop()}}),n)})))()},closeModal:function(){this.showModal=!this.showModal},refresh:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.searchGoods();case 1:case"end":return t.stop()}}),t)})))()}}},C=y,E=(n("db1a"),Object(m["a"])(C,a,o,!1,null,"45e5b768",null));t["default"]=E.exports},a753:function(e,t,n){},db1a:function(e,t,n){"use strict";var r=n("4505"),a=n.n(r);a.a}}]);
//# sourceMappingURL=chunk-610b2d02.8c94e2fc.js.map